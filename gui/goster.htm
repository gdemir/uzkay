<link href="gui/css/smart_wizard.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="gui/js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="gui/js/jquery.smartWizard-2.0.min.js"></script>

<script type="text/javascript">
	function tcmi(tc) {
        var tc, on, onbir;
        tc = String(Number(tc.substring(0,1)) +
                   Number(tc.substring(1,2)) +
                   Number(tc.substring(2,3)) +
                   Number(tc.substring(3,4)) +
                   Number(tc.substring(4,5)) +
                   Number(tc.substring(5,6)) +
                   Number(tc.substring(6,7)) +
                   Number(tc.substring(7,8)) +
                   Number(tc.substring(8,9)) +
                   Number(tc.substring(9,10))
                   );
        on = tc[tc.length - 1];
        onbir = tc[tc.length];
        if (!(on || onbir)) return false;
        if(on + onbir == tc.substring(10,11))
                return true;
        else
                return false;
	}
    $(document).ready(function(){
    	// Smart Wizard
  		$('#wizard').smartWizard({transitionEffect:'slideleft',onLeaveStep:leaveAStepCallback,onFinish:onFinishCallback,enableFinishButton:true});
      function leaveAStepCallback(obj){
        var step_num= obj.attr('rel');
        return validateSteps(step_num);
      }
      function onFinishCallback(){
       if(validateAllSteps()){
        $('form').submit();
       }
      }
	});
    function validateAllSteps(){
       var isStepValid = true;
       
       if(validateStep1() == false){
         isStepValid = false;
         $('#wizard').smartWizard('setError',{stepnum:1,iserror:true});         
       }else{
         $('#wizard').smartWizard('setError',{stepnum:1,iserror:false});
       }
       
       if(validateStep2() == false){
         isStepValid = false;
         $('#wizard').smartWizard('setError',{stepnum:2,iserror:true});         
       }else{
         $('#wizard').smartWizard('setError',{stepnum:2,iserror:false});
       }
       
       if(!isStepValid){
          $('#wizard').smartWizard('showMessage','Please correct the errors in the steps and continue');
       }
              
       return isStepValid;
    } 	
	function step_message(step, section) {
		if(step == false ){
			$('#wizard').smartWizard('showMessage','Lütfen <b>'+section+'</b> bölümündeki hataları düzeltin ve <b>Sonraki</b> tuşuna tıklayın.');
			$('#wizard').smartWizard('setError',{stepnum:step,iserror:true});
			return false; 
		}else{
			$('#wizard').smartWizard('setError',{stepnum:step,iserror:false});
			return true;
		}
	}
		
	function validateSteps(step){
		var isStepValid = true;
		// validate step 1
		if(step == 1)
			isStepValid = step_message(validateStep1(), "Kişisel Bilgiler");
		// validate step 2
		if(step == 2)
			isStepValid = step_message(validateStep2(), "İletişim Bilgiler");
		return isStepValid;
	}
		
	function validateStep1(){
       var isValid = true; 
       // Validate Tc
       var un = $('#tc').val();
       if(!un && un.length <= 0){
         isValid = false;
         $('#msg_tc').html('<div class="error">Tc Kimlik Numarası doldurulması zorunludur</div>').show();
       }else if(un.length != 11){
		   isValid = false;
         $('#msg_tc').html('<div class="error">Tc Kimlik Numarası 11 haneli olmalıdır</div>').show();
       }else if(!tcmi(un)){
		   isValid = false;
         $('#msg_tc').html('<div class="error">Geçerli bir Tc kimlik Numarası değil</div>').show();
       }else{
         $('#msg_tc').html('').hide();
       }
       return isValid;
    }
    function validateStep2(){
      var isValid = true;    
      //validate email  email
      var email = $('#email').val();
       if(email && email.length > 0){
         if(!isValidEmailAddress(email)){
           isValid = false;
           $('#msg_email').html('<div class="error">Geçerli bir email değil</div>').show();           
         }else{
          $('#msg_email').html('').hide();
         }
       }else{
         isValid = false;
         $('#msg_email').html('<div class="error">Email doldurulması zorunludur</div>').show();
       }       
      return isValid;
    }
    
    // Email Validation
    function isValidEmailAddress(emailAddress) {
      var pattern = new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);
      return pattern.test(emailAddress);
    } 
    
    
</script>
<style>
  table.custom td.label {width: 275px;}
</style>
<div class="login">
  <h2 id="headline">EBELİK LİSANS TAMAMLAMA ÖN KAYIT BAŞVURUSU</h2>
  <p>
    Aşağıdaki bilgileri eksiksiz doldurunuz.<strong>DİKKAT!  Bu ön kayıt formu Ebelik Lisans Tamamlama 
    Programına YENİ başvuracak adaylar içindir.Mevcut öğrencilerimizin kayıt yenilemeleri ile ilgili duyurular
    <a href="http://uzem.omu.edu.tr">http://uzem.omu.edu.tr</a> adresinden yapılacaktır.</strong>
  </p>
  <p style="color:RED">
    Ön kayıt yaptıran öğrencilerimizin kesin kayıt için gerekli olan evrakları bu
    siteden daha sonra duyuracağımız biçimde istenilen adrese göndermeleri
    gerekmektedir.
  </p>
  <form name="login" action="kaydet" method="POST" id="login" 
    enctype="multipart/form-data">
<div id="wizard" class="swMain">
  <ul>
    <li><a href="#step-1">
      <span class="stepDesc">Kişisel Bilgiler</span>
    </a></li>
    <li><a href="#step-2">
      <span class="stepDesc">İletişim Bilgiler</span>
    </a></li>
    <li><a href="#step-3">
      <span class="stepDesc">İş Bilgiler</span>
    </a></li>
    <li><a href="#step-4">
      <span class="stepDesc">Diğer Bilgiler</span>
    </a></li>
      </ul>
<div id="step-1" style="height:auto;">
    <table class="custom">
    <tr>
      <td>
        <h2 id="headline">
          Kişisel Bilgiler
        </h2>
      </td>
    </tr>
    <tr>
      <td class="label">TC Kimlik No (*):</td>
      <td class="field"><input class="validate[required] text-input" type="text" 
        name="tc" id= "tc" value="{{@REQUEST.tc}}" maxlength = 11  /></td>
      <td><span id="msg_tc"></span></td>
    </tr>
    <tr>
      <td class="label"> Ad    (*):</td>
      <td class="field"><input class="required" type="text" name="ad" id = "ad" value="{{@REQUEST.ad}}" maxlength = 40 /></td>
    </tr>
    <tr>
      <td class="label"> Soyad (*):</td>
      <td class="field"><input class="required" type="text" name="soyad" id = "soyad" value="{{@REQUEST.soyad}}"  maxlength=40 /></td>
    </tr>
    <tr>
      <td class="label">Kızlık Soyadı (*):</td>
      <td class="field"><input class="required" type="text" name = "kizliksoyad" id = "kizliksoyad" value="{{@REQUEST.kizliksoyad}}"  /></td>
    </tr>
    <tr>
      <td class="label">Baba Adı (*):</td>
      <td class="field"><input class="required" type="text" name = "babaad"   id = "babaad" value="{{@REQUEST.babaad}}"     /></td>
    </tr>
    <tr>
      <td class="label">Ana Adı (*):</td>
      <td class="field"><input class="required" type="text" name = "anaad"    id = "anaad" value="{{@REQUEST.anaad}}"             /></td>
    </tr>
    <tr>
      <td class="label">Doğum Tarihi (*):</td>
      <td class="field">
        <select name="dogumgun" class="required" style="width:120px">
          <F3:repeat group='{{@gunler}}' value='{{@gun}}'>
            <F3:check if='{{@gun==@REQUEST.dogumgun}}'>
              <F3:true><option value='{{@gun}}' selected>{{@gun}}</option></F3:true>
              <F3:false><option value='{{@gun}}'>{{@gun}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
        <select name="dogumay" class="required"  style="width:120px">
          <F3:repeat group="{{@aylar}}" value="{{@ay}}" >
            <F3:check if='{{@ay==@REQUEST.dogumay}}'>
              <F3:true><option value='{{@ay}}' selected>{{@ay}}</option></F3:true>
              <F3:false><option value='{{@ay}}'>{{@ay}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
        <select name="dogumyil" class="required" style="width:120px">
          <F3:repeat group="{{@yillar}}" value="{{@yil}}">
            <F3:check if='{{@yil==@REQUEST.dogumyil}}'>
              <F3:true><option value='{{@yil}}' selected>{{@yil}}</option></F3:true>
              <F3:false><option value='{{@yil}}'>{{@yil}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
    </tr>
    <tr>
      <td class="label">Doğum Yeri - İl (*):</td>
      <td class="field">
        <select name="dogumil" class="required">
          <F3:repeat group="{{@iller}}" value="{{@il}}">
            <F3:check if='{{@il==@REQUEST.dogumil}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
    </tr>
    <tr>
      <td class="label">Doğum Yeri - İlçe (*):</td>
      <td class="field"><input class="required" type="text" name = "dogumilce" id = "dogumilce" value="{{@REQUEST.dogumilce}}" maxlength = "20"  /></td>
      {{*<td>Yurt dışı doğumlular "ilçe" alanında yurt dışı il 
        girebilir.</td>*}}
    </tr>
    <tr>
      <td class="label">Doğum Yeri - Ülke:</td>
      <td class="field">
        <select name="dogumulke" class="required">
          <F3:repeat group="{{@ulkeler}}" value="{{@ulke}}">
            <F3:check if='{{@ulke==@REQUEST.dogumulke}}'>
              <F3:true><option value='{{@ulke}}' selected>{{@ulke}}</option></F3:true>
<!--	      selected>{{@ulke}}</option></F3:true>-->
              <F3:false><option value='{{@ulke}}'>{{@ulke}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      {{*<td><span>Yurt dışı doğumlular bu bölümde ülke 
          seçebilir.</span></td>*}}
    </tr>
    <tr>
      <td class="label">Resim (vesikalık resminiz):</td>
      <td class="field"><input type="file" name="file" id="file"/></td>
    </tr>
    <tr>
      <td></td>
      <td class="field"><span>Resim 500 KB'ı geçmemeli,JPEG formatında olmalıdır.</span></td>
    </tr>
  </table>
</div>
<div id="step-2" style="height:auto;">

  <table class="custom">
    <tr>
      <td>
        <h2 id="headline">iletişim Bilgiler</h2>
      </td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Telefon numaralarını başta 0 olmadan 10 haneli olacak şekilde aralarda 
        boşluk bırakmadan yazınız.
      </td>
    </tr>
    <tr>
      <td class="label">Cep tel    (*):</td>
      <td class="field"><input class="required" type="text" name = "ceptel" id = 
        "ceptel" value="{{@REQUEST.ceptel}}" maxlength = 10 /></td>
    </tr>
    <tr>
      <td class="label">Ev tel        :</td>
      <td class="field"><input                  type="text" name = "evtel" id = 
        "evtel" value="{{@REQUEST.evtel}}" maxlength = 10 /></td>
    </tr>
    <tr>
      <td class="label">Email         :</td>
      <td class="field"><input type="text" name = "email" class="email" id = "email" 
          value="{{@REQUEST.email}}"               /></td>
      <td><span id="msg_email"></span></td>
    </tr>
    <tr>
      <td class="label">Ev adres   (*):</td>
      <td class="field"><input class="required" type="text" name = "evadres"  id = "evadres" value="{{@REQUEST.evadres}}"         /></td>
    </tr>
    <tr>
      <td class="label">İl         (*):</td>
      <td class="field">
        <select name="il" class="required">
          <F3:repeat group="{{@iller}}" value="{{@il}}" >
            <F3:check if='{{@il==@REQUEST.il}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
    </tr>
    <tr>
      <td class="label">İlçe        (*):</td>
      <td class="field">
      <input class="required" type="text" name = "ilce" id = "ilce" 
      value="{{@REQUEST.ilce}}" maxlength = "20"  />
    </td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Aşağıdaki bilgileri ebelik ön lisans diplomasını aldığınız yeri baz 
        alarak doldurunuz.
      </td>
    </tr>
    <tr>
      <td class="label">Üniversite  (*):</td>
      <td class="field"><input class="required" type="text" name = "uni"    id = "uni" value="{{@REQUEST.uni}}"    	           /></td>
    </tr>
    <tr>
      <td class="label">Yüksek Okul (*):</td>
      <td class="field"><input class="required" type="text" name = "yokul"  id = "yokul" value="{{@REQUEST.yokul}}"   	   /></td>
    </tr>
  </table>
</div>
<div id="step-3" style="height:auto;">
  <table class="custom">
    <tr>
      <td>
        <h2 id="headline">İş Bilgiler</h2>
      </td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Aşağıdaki bilgileri çalıştığınız yeri baz alarak doldurunuz.
      </td>
    </tr>
    <tr>
      <td class="label">Kurum (*):</td>
      <td class="field"><input class="required" type="text" name = "calismakurum"  id = "calismakurum" value="{{@REQUEST.calismakurum}}"/></td>
    </tr>
    <tr>
      <td class="label">Birim (*):</td>
      <td class="field"><input class="required" type="text" name = "calismabirim"  id = "calismabirim" value="{{@REQUEST.calismabirim}}"/></td>
    </tr>
    <tr>
      <td class="label">Adres (*):</td>
      <td class="field"><input class="required" type="text" name = "isadres" id = "isadres" value="{{@REQUEST.isadres}}"/></td>
    </tr>
    <tr>
      <td class="label">İl (*):</td>
      <td class="field">
        <select name="isil" class="required">
          <F3:repeat group="{{@iller}}" value="{{@il}}">
            <F3:check if='{{@il==@REQUEST.isil}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
    </tr>
    <tr>
      <td class="label">İlçe (*):</td>
      <td class="field"><input class="required" type="text" name = "isilce" id = "isilce" value="{{@REQUEST.isilce}}" maxlength = "20"  /></td>
    </tr>
  </table>
</div>
<div id="step-4" style="height:auto">
    <table class="custom">
    <tr>
      <td>
        <h2 id="headline">
          Diğer Bilgiler
        </h2>
      </td>
      <input type="hidden" name="tarih" id="tarih" value="{{@REQUEST.tarih}}">
    </tr>
    <tr>
      <td class="label">
        <strong>2009-2010 yılında</strong> Ebelik Lisans Tamamlama Programına 
        ön kayıt yaptırdınız mı?
      </td>
      <td class="field">
        <span class="orta">
          Hayır<input type="radio" name="onkayit" value="0" checked class="required" />
          Evet<input type="radio" name="onkayit" value="1" />
        </span>
      </td>
    </tr>
    <tr>
      <td class="label">Onay Kodu (*):</td>
      <td class="field">
        <input class="required" type="text" 
        name="captcha" id="captcha" size=30/>
      </td>
    </tr>
    <tr>
      <td></td>
      <td class="captcha">
        <img src="captcha" alt="Güvenlik Resmi" title="Güvenlik Resmi - 
        Güncellemek için lütfen tıklayın"/>
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
        Resimdeki güvenlik kodunu girin.
        Yenilemekiçin resme tıklayın.
      </td>
    </tr>
<!--    <tr>
      <td></td>
      <td><input id="submit_button" type="submit" value="Kayıt Ol" /></td>
    </tr>
-->
    <tr>
      <td>* doldurulması zorunlu alan.</td>
    </tr>
  </table>
  </div>
</div>
  </form>
</div>
