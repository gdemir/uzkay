<script type="text/javascript" src="gui/js/turkish.js"></script>
<script type="text/javascript" src="gui/js/is_control.js"></script>
<!-- wizard -->
<!-- kaynak: http://techlaboratory.net/labs/SmartWizard2/ -->
<link href="gui/css/smart_wizard.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="gui/js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="gui/js/jquery.smartWizard-2.0.min.js"></script>

<script type="text/javascript">
    $(document).ready(function(){
    	// Smart Wizard
        $('#wizard').smartWizard({transitionEffect:'slideleft',onLeaveStep:leaveAStepCallback,onFinish:onFinishCallback,enableFinishButton:true});
      function leaveAStepCallback(obj){
        var step_num=obj.attr('rel');
        return validateSteps(step_num);
      }
      function onFinishCallback(){
       if(validateAllSteps()){
        $('form').submit();
       }
      }
	});
    function validateAllSteps(){
       var isStepValid = true;

       if(validateStep1() == false){
         isStepValid = false;
         $('#wizard').smartWizard('setError',{stepnum:1,iserror:true});
       }else{
         $('#wizard').smartWizard('setError',{stepnum:1,iserror:false});
       }
       if(validateStep2() == false){
         isStepValid = false;
         $('#wizard').smartWizard('setError',{stepnum:2,iserror:true});
       }else{
         $('#wizard').smartWizard('setError',{stepnum:2,iserror:false});
       }

       if(!isStepValid){
          $('#wizard').smartWizard('showMessage','Please correct the errors in the steps and continue');
       }

       return isStepValid;
    }
    function step_message(step, section) {
      if(step == false ){
        $('#wizard').smartWizard('showMessage',
            'Lütfen <b>'+section+'</b> bölümündeki hataları düzeltin '+
            've <b>Sonraki</b> tuşuna tıklayın.'
        );
        $('#wizard').smartWizard('setError',{stepnum:step,iserror:true});
        return false;
      }else{
        $('#wizard').smartWizard('setError',{stepnum:step,iserror:false});
        return true;
      }
    }

    function error_message(message) {
        return '<div class="error">'+message+'</div>';
    }
    function control(verilen, tarif) {
        var hata;
        var un = $('#'+verilen).val();
        for (ne in tarif) {
            kosul = tarif[ne].shift();
            switch(ne){
              case 'dolu':     hata = kosul && (!un && un.length <= 0);break;
              case 'esit':     hata = un.length != kosul;break;
              case 'enkisa':   hata = un.length < kosul;break;
              case 'enuzun':   hata = un.length > kosul;break;
              case 'enaz':     hata = Number(un) < kosul;break;
              case 'enfazla':  hata = Number(un) > kosul;break;
              case 'basolmaz': hata = kosul == un[0];break;
              case 'tamsayi':  hata = kosul && !is_int(un);break;
              case 'ozel':     hata = !eval(kosul+"('"+un+"')");break;
            }
            if(hata)
              return tarif[ne].shift();
        }
    }
    function validateSteps(step){
        var isStepValid = true;
        if(step == 1) // validate step 1
            isStepValid = step_message(validateStep1(), "Kişisel Bilgiler");
        if(step == 2) // validate step 2
            isStepValid = step_message(validateStep2(), "İletişim Bilgiler");
        if(step == 3) // validate step 3
            isStepValid = step_message(validateStep3(), "İş Bilgiler");
        if(step == 4) // validate step 3
            isStepValid = step_message(validateStep4(), "Diğer Bilgiler");
        return isStepValid;
      }
    function validateStep1(){
      var state = true
      if (hata = control('tc',
          {
          'dolu':    [true,   'Tc Kimlik Numarası boş bırakılamaz'],
          'tamsayi': [true,   'Tc Kimlik Numarası tamsayı olmalıdır'],
          'esit':    [11,     'Tc Kimlik Numarası 11 haneli olmalıdır'],
          'ozel':    ['is_tc','Geçerli bir Tc Kimlik Numarası değil'],
           }
           ))
      {
          $('#msg_tc').html(error_message(hata)).show();
          state = false;
      } else
          $('#msg_tc').html('').hide();
      require = {
/*          'ad': '',
          'soyad': '',
          'kizliksoyad': 'Kızlık soyad',
          'anaad':       'Anne Adı',
          'babaad':      'Baba Adı',
          'dogumay':     'Doğum ay\'ı',
          'dogumyil':    'Doğum yıl\'ı',
          'dogumgun':    'Doğum gün\'ü',
          'dogumil':     'Doğum İli',
          'dogumilce':   'Doğum İlçe',*/
      };
      for(var item in require) {
          alan = require[item] == '' ? item.turkish2ucfirst() : require[item];
          if (hata = control(item,
              {
              'dolu': [true,  alan  + ' boş bırakılamaz'],
              }
              ))
          {
              $('#msg_'+item).html(error_message(hata)).show();
              state = false;
          }
          else
              $('#msg_'+item).html('').hide();
      }
      return state;
    }
    function validateStep2(){
      var state = true;
      if (hata = control('email',
          {
          'dolu':    [true,   'Email boş bırakılamaz'],
          'ozel':    ['is_email','Geçerli bir Email değil'],
           }
           ))
      {
          $('#msg_email').html(error_message(hata)).show();
          state = false;
      } else
          $('#msg_email').html('').hide();
      if (hata = control('ceptel',
          {
          'dolu':     [true,   'Cep telefonu boş bırakılamaz'],
          'tamsayi':  [true,   'Cep telefonu tamsayi olmalıdır'],
          'basolmaz': [0,      'Cep telefonu başta 0 olmadan yazınınz'],
          'esit':     [10,     'Cep telefonu 10 haneli olmalıdır'],
           }
           ))
      {
          $('#msg_ceptel').html(error_message(hata)).show();
          state = false;
      } else
          $('#msg_ceptel').html('').hide();

      require = {
          'evadres': 'Ev adresi',
          'il':      'Çalışılan il',
          'ilce':    'Çalışılan ilçe',
          'uni':     'Üniversite',
          'yokul':   'Yüksek okul',
      };
      for(var item in require) {
          alan = require[item] == '' ? item.turkish2ucfirst() : require[item];
          if (hata = control(item,
              {
              'dolu': [true,  alan  + ' boş bırakılamaz'],
              }
              ))
          {
              $('#msg_'+item).html(error_message(hata)).show();
              state = false;
          }
          else
              $('#msg_'+item).html('').hide();
      }
      return state;
    }
    function validateStep3(){
      var state = true;
      require = {
          'calismakurum': 'Çalışma kurum',
          'calismabirim': 'Çalışma birimi',
          'isadres':      'Çalışılan adres',
          'isil':         'Çalışılan il',
          'isilce':       'Çalışılan ilçe',
      };
      for(var item in require) {
          alan = require[item] == '' ? item.turkish2ucfirst() : require[item];
          if (hata = control(item,
              {
              'dolu': [true,  alan  + ' boş bırakılamaz'],
              }
              ))
          {
              $('#msg_'+item).html(error_message(hata)).show();
              state = false;
          }
          else
              $('#msg_'+item).html('').hide();
      }
      return state;
    }
    function validateStep4(){
      var state = true;
      require = {
          'captcha': 'Güvenlik kodu',
      };
      for(var item in require) {
          alan = require[item] == '' ? item.turkish2ucfirst() : require[item];
          if (hata = control(item,
              {
              'dolu': [true,  alan  + ' boş bırakılamaz'],
              }
              ))
          {
              $('#msg_'+item).html(error_message(hata)).show();
              state = false;
          }
          else
              $('#msg_'+item).html('').hide();
      }
      return state;
    }
  </script>
<!-- end wizard  -->
<style>
  table.custom td.label {width: 275px;}
</style>
<div class="login">
  <h2 id="headline">EBELİK LİSANS TAMAMLAMA ÖN KAYIT BAŞVURUSU</h2>
  <p>
    Aşağıdaki bilgileri eksiksiz doldurunuz.<strong>DİKKAT!  Bu ön kayıt formu Ebelik Lisans Tamamlama 
    Programına YENİ başvuracak adaylar içindir.Mevcut öğrencilerimizin kayıt yenilemeleri ile ilgili duyurular
    <a href="http://uzem.omu.edu.tr">http://uzem.omu.edu.tr</a> adresinden yapılacaktır.</strong>
  </p>
  <p style="color:RED">
    Ön kayıt yaptıran öğrencilerimizin kesin kayıt için gerekli olan evrakları bu
    siteden daha sonra duyuracağımız biçimde istenilen adrese göndermeleri
    gerekmektedir.
  </p>
  <form name="login" action="kaydet" method="POST" id="login" 
    enctype="multipart/form-data">
<div id="wizard" class="swMain">
  <ul>
    <li><a href="#step-1">
      <span class="stepDesc">Kişisel Bilgiler</span>
    </a></li>
    <li><a href="#step-2">
      <span class="stepDesc">İletişim Bilgiler</span>
    </a></li>
    <li><a href="#step-3">
      <span class="stepDesc">İş Bilgiler</span>
    </a></li>
    <li><a href="#step-4">
      <span class="stepDesc">Diğer Bilgiler</span>
    </a></li>
      </ul>
<div id="step-1" style="height:auto;">
    <table class="custom">
    <tr>
      <td>
        <h2 id="headline">
          Kişisel Bilgiler
        </h2>
      </td>
    </tr>
    <tr>
      <td class="label">TC Kimlik No (*):</td>
      <td class="field"><input class="validate[required] text-input" type="text" 
        name="tc" id= "tc" value="{{@REQUEST.tc}}" maxlength = 11  /></td>
      <td><span id="msg_tc"></span></td>
    </tr>
    <tr>
      <td class="label"> Ad    (*):</td>
      <td class="field"><input  type="text" name="ad" id = "ad" value="{{@REQUEST.ad}}" maxlength = 40 /></td>
      <td><span id="msg_ad"></span></td>
    </tr>
    <tr>
      <td class="label"> Soyad (*):</td>
      <td class="field"><input  type="text" name="soyad" id = "soyad" value="{{@REQUEST.soyad}}"  maxlength=40 /></td>
      <td><span id="msg_soyad"></span></td>
    </tr>
    <tr>
      <td class="label">Kızlık Soyadı (*):</td>
      <td class="field"><input  type="text" name = "kizliksoyad" id = "kizliksoyad" value="{{@REQUEST.kizliksoyad}}"  /></td>
      <td><span id="msg_kizliksoyad"></span></td>
    </tr>
    <tr>
      <td class="label">Baba Adı (*):</td>
      <td class="field"><input  type="text" name = "babaad"   id = "babaad" value="{{@REQUEST.babaad}}"     /></td>
      <td><span id="msg_babaad"></span></td>
    </tr>
    <tr>
      <td class="label">Ana Adı (*):</td>
      <td class="field"><input  type="text" name = "anaad"    id = "anaad" value="{{@REQUEST.anaad}}"             /></td>
      <td><span id="msg_anaad"></span></td>
    </tr>
    <tr>
      <td class="label">Doğum Tarihi (*):</td>
      <td class="field">
        <select id="dogumgun" name="dogumgun"  
          style="width:120px">
          <F3:repeat group='{{@gunler}}' value='{{@gun}}'>
            <F3:check if='{{@gun==@REQUEST.dogumgun}}'>
              <F3:true><option value='{{@gun}}' selected>{{@gun}}</option></F3:true>
              <F3:false><option value='{{@gun}}'>{{@gun}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
        <select id="dogumay" name="dogumay"   
          style="width:120px">
          <F3:repeat group="{{@aylar}}" value="{{@ay}}" >
            <F3:check if='{{@ay==@REQUEST.dogumay}}'>
              <F3:true><option value='{{@ay}}' selected>{{@ay}}</option></F3:true>
              <F3:false><option value='{{@ay}}'>{{@ay}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
        <select id="dogumyil" name="dogumyil"  
          style="width:120px">
          <F3:repeat group="{{@yillar}}" value="{{@yil}}">
            <F3:check if='{{@yil==@REQUEST.dogumyil}}'>
              <F3:true><option value='{{@yil}}' selected>{{@yil}}</option></F3:true>
              <F3:false><option value='{{@yil}}'>{{@yil}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      <td>
        <span id="msg_dogumyil"></span>
        <span id="msg_dogumay"></span>
        <span id="msg_dogumgun"></span>
      </td>
    </tr>
    <tr>
      <td class="label">Doğum Yeri - İl (*):</td>
      <td class="field">
        <select id="dogumil" name="dogumil" >
          <F3:repeat group="{{@iller}}" value="{{@il}}">
            <F3:check if='{{@il==@REQUEST.dogumil}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      <td><span id="msg_dogumil"></span></td>
    </tr>
    <tr>
      <td class="label">Doğum Yeri - İlçe (*):</td>
      <td class="field"><input  type="text" name = "dogumilce" id = "dogumilce" value="{{@REQUEST.dogumilce}}" maxlength = "20"  /></td>
      {{*<td>Yurt dışı doğumlular "ilçe" alanında yurt dışı il 
        girebilir.</td>*}}
      <td><span id="msg_dogumilce"></span></td>
    </tr>
    <tr>
      <td class="label">Doğum Yeri - Ülke:</td>
      <td class="field">
        <select name="dogumulke" >
          <F3:repeat group="{{@ulkeler}}" value="{{@ulke}}">
            <F3:check if='{{@ulke==@REQUEST.dogumulke}}'>
              <F3:true><option value='{{@ulke}}' selected>{{@ulke}}</option></F3:true>
<!--	      selected>{{@ulke}}</option></F3:true>-->
              <F3:false><option value='{{@ulke}}'>{{@ulke}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      {{*<td><span>Yurt dışı doğumlular bu bölümde ülke 
          seçebilir.</span></td>*}}
    </tr>
    <tr>
      <td class="label">Resim (vesikalık resminiz):</td>
      <td class="field"><input type="file" name="file" id="file"/></td>
    </tr>
    <tr>
      <td></td>
      <td class="field"><span>Resim 500 KB'ı geçmemeli,JPEG formatında olmalıdır.</span></td>
    </tr>
  </table>
</div>
<div id="step-2" style="height:auto;">

  <table class="custom">
    <tr>
      <td>
        <h2 id="headline">iletişim Bilgiler</h2>
      </td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Telefon numaralarını başta 0 olmadan 10 haneli olacak şekilde aralarda 
        boşluk bırakmadan yazınız.
      </td>
    </tr>
    <tr>
      <td class="label">Cep tel    (*):</td>
      <td class="field"><input  type="text" name = "ceptel" id = 
        "ceptel" value="{{@REQUEST.ceptel}}" maxlength = 10 /></td>
      <td><span id="msg_ceptel"></span></td>
    </tr>
    <tr>
      <td class="label">Ev tel        :</td>
      <td class="field"><input                  type="text" name = "evtel" id = 
        "evtel" value="{{@REQUEST.evtel}}" maxlength = 10 /></td>
    </tr>
    <tr>
      <td class="label">Email       (*):</td>
      <td class="field"><input type="text" name = "email"  id = "email" 
          value="{{@REQUEST.email}}"               /></td>
      <td><span id="msg_email"></span></td>
    </tr>
    <tr>
      <td class="label">Ev adres   (*):</td>
      <td class="field"><input  type="text" name = "evadres"  id = "evadres" value="{{@REQUEST.evadres}}"         /></td>
      <td><span id="msg_evadres"></span></td>
    </tr>

    <tr>
      <td class="label">İl         (*):</td>
      <td class="field">
        <select id="il" name="il" >
          <F3:repeat group="{{@iller}}" value="{{@il}}" >
            <F3:check if='{{@il==@REQUEST.il}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      <td><span id="msg_il"></span></td>
    </tr>
    <tr>
      <td class="label">İlçe        (*):</td>
      <td class="field">
      <input  type="text" name = "ilce" id = "ilce" 
      value="{{@REQUEST.ilce}}" maxlength = "20"  />
    </td>
      <td><span id="msg_ilce"></span></td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Aşağıdaki bilgileri ebelik ön lisans diplomasını aldığınız yeri baz 
        alarak doldurunuz.
      </td>
    </tr>
    <tr>
      <td class="label">Üniversite  (*):</td>
      <td class="field"><input  type="text" name = "uni"    id = "uni" value="{{@REQUEST.uni}}"    	           /></td>
      <td><span id="msg_uni"></span></td>
    </tr>
    <tr>
      <td class="label">Yüksek Okul (*):</td>
      <td class="field"><input  type="text" name = "yokul"  id = "yokul" value="{{@REQUEST.yokul}}"   	   /></td>
      <td><span id="msg_yokul"></span></td>
    </tr>
  </table>
</div>
<div id="step-3" style="height:auto;">
  <table class="custom">
    <tr>
      <td>
        <h2 id="headline">İş Bilgiler</h2>
      </td>
    </tr>
    <tr>
      <td></td>
      <td class="field">
        Aşağıdaki bilgileri çalıştığınız yeri baz alarak doldurunuz.
      </td>
    </tr>
    <tr>
      <td class="label">Kurum (*):</td>
      <td class="field"><input  type="text" name = "calismakurum"  id = "calismakurum" value="{{@REQUEST.calismakurum}}"/></td>
      <td><span id="msg_calismakurum"></span></td>
    </tr>
    <tr>
      <td class="label">Birim (*):</td>
      <td class="field"><input  type="text" name = "calismabirim"  id = "calismabirim" value="{{@REQUEST.calismabirim}}"/></td>
      <td><span id="msg_calismabirim"></span></td>
    </tr>
    <tr>
      <td class="label">Adres (*):</td>
      <td class="field"><input  type="text" name = "isadres" id = "isadres" value="{{@REQUEST.isadres}}"/></td>
      <td><span id="msg_isadres"></span></td>
    </tr>
    <tr>
      <td class="label">İl (*):</td>
      <td class="field">
        <select id="isil" name="isil" >
          <F3:repeat group="{{@iller}}" value="{{@il}}">
            <F3:check if='{{@il==@REQUEST.isil}}'>
              <F3:true><option value='{{@il}}' selected>{{@il}}</option></F3:true>
              <F3:false><option value='{{@il}}'>{{@il}}</option></F3:false>
            </F3:check>
          </F3:repeat>
        </select>
      </td>
      <td><span id="msg_isil"></span></td>
    </tr>
    <tr>
      <td class="label">İlçe (*):</td>
      <td class="field"><input  type="text" name = "isilce" id = "isilce" value="{{@REQUEST.isilce}}" maxlength = "20"  /></td>
      <td><span id="msg_isilce"></span></td>
    </tr>
  </table>
</div>
<div id="step-4" style="height:auto">
    <table class="custom">
    <tr>
      <td>
        <h2 id="headline">
          Diğer Bilgiler
        </h2>
      </td>
    </tr>
    <tr>
      <td class="label">
        <strong>2010-2011 yılında</strong> Ebelik Lisans Tamamlama Programına ön 
        kayıt yaptırdınız mı?
      </td>
      <td class="field">
        <span class="orta">
          Hayır<input type="radio" name="onkayit" value="0" checked  />
          Evet<input type="radio" name="onkayit" value="1" />
        </span>
      </td>
    </tr>
    <tr>
      <td class="label">Onay Kodu (*):</td>
      <td class="field">
        <input  type="text" 
        name="captcha" id="captcha" size=30/>
      </td>
      <td><span id="msg_captcha"></span></td>
    </tr>
    <tr>
      <td></td>
      <td class="captcha">
        <img src="captcha" alt="Güvenlik Resmi" title="Güvenlik Resmi - 
        Güncellemek için lütfen tıklayın"/>
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
        Resimdeki güvenlik kodunu girin.
        Yenilemekiçin resme tıklayın.
      </td>
    </tr>
<!--    <tr>
      <td></td>
      <td><input id="submit_button" type="submit" value="Kayıt Ol" /></td>
    </tr>
-->
    <tr>
      <td>* doldurulması zorunlu alan.</td>
    </tr>
  </table>
  </div>
</div>
  </form>
</div>
